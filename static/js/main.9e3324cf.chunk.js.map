{"version":3,"sources":["reducer.js","context.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","payload","loading","newcart","map","item","id","amount","filter","newcart2","reduce","cartTotal","cartItem","itemtotal","price","total","parseFloat","toFixed","AppContext","React","createContext","initalState","AppProvider","children","useEffect","fetch","then","response","json","data","fetchData","useReducer","dispatch","Provider","value","clearall","remove","toggleAmount","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","img","title","src","alt","onClick","CartContainer","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9e3324cf.chunk.js","sourcesContent":["const reducer=(state, action) => {\r\n\r\n\r\n\r\n    switch (action.type) {\r\n        case \"LOADING\":\r\n            return { ...state, cart: action.payload, loading: false }\r\n        case 'CLEAR_ALL':\r\n            return { ...state, cart: [] }\r\n\r\n        case \"TOOGLE_AMOUNT\":\r\n            let newcart=state.cart.map((item) => {\r\n                if (item.id===action.payload.id) {\r\n                    const { amount }=item\r\n                    if (action.payload.type===\"INCREMENT\")\r\n                        return {\r\n                            ...item, amount: amount+1\r\n                        }\r\n                    else if (action.payload.type===\"DECREMENT\")\r\n                        return {\r\n                            ...item, amount: amount-1\r\n                        }\r\n                }\r\n                else {\r\n                    return { ...item };\r\n                }\r\n            }).filter((item) => item.amount>0)\r\n\r\n\r\n\r\n\r\n            return { ...state, cart: newcart }\r\n\r\n\r\n\r\n\r\n        case \"REMOVE\":\r\n            const newcart2=state.cart.filter((item) => item.id!==action.payload)\r\n            return { ...state, cart: newcart2 }\r\n\r\n        case \"AMOUNT\":\r\n            let { total, amount }=state.cart.reduce((cartTotal, cartItem) => {\r\n                cartTotal.amount+=cartItem.amount\r\n                const itemtotal=cartItem.amount*cartItem.price\r\n\r\n                cartTotal.total+=itemtotal\r\n\r\n\r\n                return cartTotal;\r\n\r\n            }, {\r\n                total: 0,\r\n                amount: 0\r\n            })\r\n            total=parseFloat(total.toFixed(2))\r\n\r\n            return { ...state, total, amount }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default reducer;","import React, { useState, useContext, useReducer, useEffect } from 'react'\r\n\r\nimport reducer from './reducer'\r\n\r\nconst url='https://course-api.com/react-useReducer-cart-project'\r\nconst AppContext=React.createContext()\r\n\r\nconst initalState={\r\n  loading: true,\r\n  cart: [],\r\n  amount: 0,\r\n  total: 0,\r\n}\r\nconst AppProvider=({ children }) => {\r\n\r\n  useEffect(() => {\r\n    fetch(url).then(response => response.json()).then(data => fetchData(data))\r\n  }, [])\r\n\r\n\r\n  const [state, dispatch]=useReducer(reducer, initalState);\r\n  useEffect(() => {\r\n\r\n    dispatch({ type: \"AMOUNT\" })\r\n\r\n  }, [state.cart])\r\n\r\n\r\n\r\n  const toggleAmount=(id, type) => {\r\n    dispatch({ type: \"TOOGLE_AMOUNT\", payload: { id, type } })\r\n  }\r\n\r\n  const fetchData=(data) => {\r\n    dispatch({ type: \"LOADING\", payload: data })\r\n  }\r\n\r\n\r\n  const clearall=() => {\r\n    dispatch({ type: \"CLEAR_ALL\" });\r\n  }\r\n\r\n\r\n  const remove=(id) => {\r\n    dispatch({ type: \"REMOVE\", payload: id })\r\n  }\r\n\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...state, clearall, remove, toggleAmount\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useGlobalContext=() => {\r\n  return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst Navbar=() => {\r\n  const { amount }=useGlobalContext()\r\n  return (\r\n    <nav>\r\n      <div className='nav-center'>\r\n        <h3>MediaMarkt</h3>\r\n        <div className='nav-container'>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\r\n          </svg>\r\n          <div className='amount-container'>\r\n            <p className='total-amount'>{amount}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst CartItem=({ id, img, title, price, amount }) => {\r\n  const { remove, toggleAmount }=useGlobalContext();\r\n  return (\r\n    <article className='cart-item'>\r\n      <img src={img} alt={title} />\r\n      <div>\r\n        <h4>{title}</h4>\r\n        <h4 className='item-price'>${price}</h4>\r\n        {/* remove button */}\r\n        <button\r\n          className='remove-btn'\r\n          onClick={() => remove(id)}\r\n        >\r\n          remove\r\n        </button>\r\n      </div>\r\n      <div>\r\n        {/* increase amount */}\r\n        <button className='amount-btn' onClick={() => toggleAmount(id, \"INCREMENT\")}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\r\n          </svg>\r\n        </button>\r\n        {/* amount */}\r\n        <p className='amount'>{amount}</p>\r\n        {/* decrease amount */}\r\n        <button className='amount-btn' onClick={() => toggleAmount(id, \"DECREMENT\")}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default CartItem\r\n","import React from 'react'\r\nimport CartItem from './CartItem'\r\nimport { useGlobalContext } from './context'\r\n\r\nconst CartContainer=() => {\r\n  const { cart, total, clearall }=useGlobalContext()\r\n  if (cart.length===0) {\r\n    return (\r\n      <section className='cart'>\r\n        {/* cart header */}\r\n        <header>\r\n          <h2>your bag</h2>\r\n          <h4 className='empty-cart'>is currently empty</h4>\r\n        </header>\r\n      </section>\r\n    )\r\n  }\r\n  return (\r\n    <section className='cart'>\r\n      {/* cart header */}\r\n      <header>\r\n        <h2>your bag</h2>\r\n      </header>\r\n      {/* cart items */}\r\n      <div>\r\n        {cart.map((item) => {\r\n          return <CartItem key={item.id} {...item} />\r\n        })}\r\n      </div>\r\n      {/* cart footer */}\r\n      <footer>\r\n        <hr />\r\n        <div className='cart-total'>\r\n          <h4>\r\n            total <span>${total}</span>\r\n          </h4>\r\n        </div>\r\n        <button\r\n          className='btn clear-btn'\r\n          onClick={clearall}\r\n        >\r\n          clear cart\r\n        </button>\r\n      </footer>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CartContainer\r\n","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\n\r\n// components\r\nimport Navbar from './Navbar'\r\nimport CartContainer from './CartContainer'\r\n// items\r\n\r\nfunction App() {\r\n  const { loading }=useGlobalContext();\r\n  if (loading) {\r\n    return (\r\n      <div className='loading'>\r\n        <h1>Loading...</h1>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <main>\r\n      <Navbar />\r\n      <CartContainer />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { AppProvider } from './context';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n      <App />\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}